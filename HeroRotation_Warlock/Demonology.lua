local a,b=...local c=HeroDBC.DBC;local d=HeroLib;local e=HeroCache;local f=d.Unit;local g=f.Player;local h=f.Target;local i=f.Pet;local j=d.Spell;local k=d.Item;local l=HeroRotation;local m=l.Cast;local n=l.AoEON;local o=l.CDsON;local p=l.Commons.Warlock;local q=l.Commons.Everyone.num;local r=l.Commons.Everyone.bool;local s=math.max;local t=j.Warlock.Demonology;local u=k.Warlock.Demonology;local function q(v)if v then return 1 else return 0 end end;local w={u.NymuesUnravelingSpindle:ID()}local x=g:GetEquipment()local y=x[13]and k(x[13])or k(0)local z=x[14]and k(x[14])or k(0)local A=11111;local B=11111;local C=0;local D=0;local E=false;local F=false;local G=false;local H=0;local I=0;local J=0;local K=120;local L=0;local M=0;local N=0;local O=0;local P=HeroRotationCharDB.Toggles[4]local Q=HeroRotationCharDB.Toggles[5]local R=HeroRotationCharDB.Toggles[12]local S=HeroRotationCharDB.Toggles[15]local T=HeroRotationCharDB.Toggles[150]local U;local V,W;d:RegisterForEvent(function()A=11111;B=11111 end,"PLAYER_REGEN_ENABLED")local X=l.Commons.Everyone;local Y={General=l.GUISettings.General,Commons=l.GUISettings.APL.Warlock.Commons,Demonology=l.GUISettings.APL.Warlock.Demonology}local Z={{t.AxeToss,"Cast Axe Toss (Interrupt)",function()return true end}}local _=0;local a0=0;d:RegisterForEvent(function()x=g:GetEquipment()y=x[13]and k(x[13])or k(0)z=x[14]and k(x[14])or k(0)end,"PLAYER_EQUIPMENT_CHANGED")d:RegisterForEvent(function()t.HandofGuldan:RegisterInFlight()end,"LEARNED_SPELL_IN_TAB")t.HandofGuldan:RegisterInFlight()local function a1()return d.GuardiansTable.ImpCount or 0 end;local function a2(a3)local a4=0;for a5,i in pairs(d.GuardiansTable.Pets)do if i.ImpCasts<=a3 then a4=a4+1 end end;return a4 end;local function a6()return d.GuardiansTable.FelGuardDuration or 0 end;local function a7()return a6()>0 end;local function a8()return d.GuardiansTable.DemonicTyrantDuration or 0 end;local function a9()return a8()>0 end;local function aa()return d.GuardiansTable.DreadstalkerDuration or 0 end;local function ab()return aa()>0 end;local function ac()return d.GuardiansTable.VilefiendDuration or 0 end;local function ad()return ac()>0 end;local function ae()return d.GuardiansTable.PitLordDuration or 0 end;local function af()return ae()>0 end;local function ag(ah)return ah:DebuffDown(t.DoomBrandDebuff)or t.HandofGuldan:InFlight()and h:DebuffRemains(t.DoomBrandDebuff)<=3 end;local function ai(ah)return ah:DebuffDown(t.DoomBrandDebuff)or t.HandofGuldan:InFlight()and ah:DebuffRemains(t.DoomBrandDebuff)<=3 or W<4 end;local function aj(ah)return ah:DebuffRefreshable(t.Doom)end;local function ak(ah)return ah:DebuffRemains(t.DoomBrandDebuff)>10 end;local function al()L=12;C=14+q(t.GrimoireFelguard:IsAvailable())+q(t.SummonVilefiend:IsAvailable())H=0;I=0;if Y.Demonology.PISource=="Shadow"then H=1 end;if t.PowerSiphon:IsReady()and P then if m(t.PowerSiphon,nil)then _=264130;return"power_siphon precombat 2"end end;if t.Demonbolt:IsReady()and g:BuffDown(t.DemonicCoreBuff)then if m(t.Demonbolt,nil,nil,not h:IsSpellInRange(t.Demonbolt))then _=264178;return"demonbolt precombat 4"end end;if t.ShadowBolt:IsReady()then if m(t.ShadowBolt,nil,nil,not h:IsSpellInRange(t.ShadowBolt))then _=686;return"shadow_bolt precombat 6"end end end;local function am()if(g:BuffUp(t.NetherPortalBuff)and g:BuffRemains(t.NetherPortalBuff)<3 and t.NetherPortal:IsAvailable()or B<20 or a9()and B<100 or B<25 or(a9()or not t.SummonDemonicTyrant:IsAvailable()and ab()))and J<=0 then I=120+N end;J=I-N;if((B+N)%120<=85 and(B+N)%120>=25 or N>=210)and J>0 and not t.GrandWarlocksDesign:IsAvailable()then K=J else K=t.SummonDemonicTyrant:CooldownRemains()end;if ad()and ab()then D=s(ac(),aa())-g:GCD()*0.5 end;if not t.SummonVilefiend:IsAvailable()and t.GrimoireFelguard:IsAvailable()and ab()then D=s(aa(),a6())-g:GCD()*0.5 end;if not t.SummonVilefiend:IsAvailable()and(not t.GrimoireFelguard:IsAvailable()or not g:HasTier(30,2))and ab()then D=aa()-g:GCD()*0.5 end;if not ad()and t.SummonVilefiend:IsAvailable()or not ab()then D=0 end;E=not t.NetherPortal:IsAvailable()or t.NetherPortal:CooldownRemains()>30 or g:BuffUp(t.NetherPortalBuff)local an=q(t.SacrificedSouls:IsAvailable())if W>1+an then F=not a9()end;if W>2+an and W<5+an then F=a8()<6 end;if W>4+an then F=a8()<8 end;G=t.SummonDemonicTyrant:CooldownRemains()<20 and K<20 and(g:BuffStack(t.DemonicCoreBuff)<=2 or g:BuffDown(t.DemonicCoreBuff))and t.SummonVilefiend:CooldownRemains()<O*5 and t.CallDreadstalkers:CooldownRemains()<O*5 end;local function ao()if t.Berserking:IsCastable()then if m(t.Berserking,nil)then _=26279;return"berserking racials 2"end end;if t.BloodFury:IsCastable()then if m(t.BloodFury,nil)then _=20572;return"blood_fury racials 4"end end;if t.Fireblood:IsCastable()then if m(t.Fireblood,nil)then _=265221;return"fireblood racials 6"end end;if t.AncestralCall:IsCastable()then if m(t.AncestralCall,nil)then _=274738;return"ancestral_call racials 8"end end end;local function ap()local aq=g:GetUseableTrinkets(w)aq=g:GetUseableTrinkets(w)if aq then if l.Cast(aq,nil,nil)then if aq:ID()==GetInventoryItemID("player",13)and Y.Commons.Enabled.TopTrinket then _=30;return"Generic use_items for "..aq:Name()elseif aq:ID()==GetInventoryItemID("player",14)and Y.Commons.Enabled.BottomTrinket then _=40;return"Generic use_items for "..aq:Name()end end end end;local function ar()if D>0 and D<t.SummonDemonicTyrant:ExecuteTime()+q(g:BuffDown(t.DemonicCoreBuff))*t.ShadowBolt:ExecuteTime()+q(g:BuffUp(t.DemonicCoreBuff))*O+O and I<=0 then I=120+N end;if t.HandofGuldan:IsReady()and M>0 and(D>O+t.SummonDemonicTyrant:CastTime()and D<O*4)then if m(t.HandofGuldan,nil,nil,not h:IsSpellInRange(t.HandofGuldan))then _=105174;return"hand_of_guldan tyrant 2"end end;if D>0 and D<t.SummonDemonicTyrant:ExecuteTime()+q(g:BuffDown(t.DemonicCoreBuff))*t.ShadowBolt:ExecuteTime()+q(g:BuffUp(t.DemonicCoreBuff))*O+O then if Y.Commons.Enabled.TopTrinket or Y.Commons.Enabled.BottomTrinket then local as=ap()if as then return as end end;local as=ao()if as then return as end;if Y.Commons.Enabled.Potions then local at=X.PotionSelected()if at and at:IsReady()then if m(at,nil,nil)then return"potion tyrant 4"end end end end;if t.SummonDemonicTyrant:IsCastable()and o()and(D>0 and D<t.SummonDemonicTyrant:ExecuteTime()+q(g:BuffDown(t.DemonicCoreBuff))*t.ShadowBolt:ExecuteTime()+q(g:BuffUp(t.DemonicCoreBuff))*O+O)then if m(t.SummonDemonicTyrant,nil)then _=265187;return"summon_demonic_tyrant tyrant 6"end end;if t.Implosion:IsReady()and(a1()>2 and(not ab()and not a7()and not ad())and(W>3 or W>2 and t.GrandWarlocksDesign:IsAvailable())and not g:PrevGCDP(1,t.Implosion))then if m(t.Implosion,nil,nil,not h:IsInRange(40))then _=196277;return"implosion tyrant 8"end end;if t.ShadowBolt:IsReady()and(g:PrevGCDP(1,t.GrimoireFelguard)and N>30 and g:BuffDown(t.NetherPortalBuff)and g:BuffDown(t.DemonicCoreBuff))then if m(t.ShadowBolt,nil,nil,not h:IsSpellInRange(t.ShadowBolt))then _=686;return"shadow_bolt tyrant 10"end end;if t.PowerSiphon:IsReady()and P and(g:BuffStack(t.DemonicCoreBuff)<4 and(not ad()or not t.SummonVilefiend:IsAvailable()and aa())and g:BuffDown(t.NetherPortalBuff))then if m(t.PowerSiphon,nil)then _=264130;return"power_siphon tyrant 12"end end;if t.ShadowBolt:IsReady()and(not ad()and g:BuffDown(t.NetherPortalBuff)and not ab()and M<5-g:BuffStack(t.DemonicCoreBuff))then if m(t.ShadowBolt,nil,nil,not h:IsSpellInRange(t.ShadowBolt))then _=686;return"shadow_bolt tyrant 14"end end;if t.NetherPortal:IsReady()and M==5 and o()then if m(t.NetherPortal,nil)then _=267217;return"nether_portal tyrant 16"end end;if t.SummonVilefiend:IsReady()and P and((M==5 or g:BuffUp(t.NetherPortalBuff))and t.SummonDemonicTyrant:CooldownRemains()<13 and E)then if m(t.SummonVilefiend)then _=264119;return"summon_vilefiend tyrant 18"end end;if t.CallDreadstalkers:IsReady()and((ad()or not t.SummonVilefiend:IsAvailable()and(not t.NetherPortal:IsAvailable()or g:BuffUp(t.NetherPortalBuff)or t.NetherPortal:CooldownRemains()>30)and(g:BuffUp(t.NetherPortalBuff)or a7()or M==5))and t.SummonDemonicTyrant:CooldownRemains()<11 and E)then if m(t.CallDreadstalkers,nil,nil,not h:IsSpellInRange(t.CallDreadstalkers))then _=104316;return"call_dreadstalkers tyrant 20"end end;if t.GrimoireFelguard:IsReady()and o()and(ad()or not t.SummonVilefiend:IsAvailable()and(not t.NetherPortal:IsAvailable()or g:BuffUp(t.NetherPortalBuff)or t.NetherPortal:CooldownRemains()>30)and(g:BuffUp(t.NetherPortalBuff)or ab()or M==5)and E)then if m(t.GrimoireFelguard,nil,nil,not h:IsSpellInRange(t.GrimoireFelguard))then _=111898;return"grimoire_felguard tyrant 22"end end;if t.HandofGuldan:IsReady()and(M>2 and(ad()or not t.SummonVilefiend:IsAvailable()and ab())and(M>2 or ac()<O*2+2/g:SpellHaste()))then if m(t.HandofGuldan,nil,nil,not h:IsSpellInRange(t.HandofGuldan))then _=105174;return"hand_of_guldan tyrant 24"end end;if t.Demonbolt:IsReady()and(M<4 and g:BuffStack(t.DemonicCoreBuff)>1 and(ad()or not t.SummonVilefiend:IsAvailable()and ab()))then if m(t.Demonbolt,nil,nil,not h:IsSpellInRange(t.Demonbolt))then _=264178;return"demonbolt tyrant 26"end end;if t.PowerSiphon:IsReady()and P and(g:BuffStack(t.DemonicCoreBuff)<3 and D>t.SummonDemonicTyrant:ExecuteTime()+O*3 or D==0)then if m(t.PowerSiphon,nil)then _=264130;return"power_siphon tyrant 28"end end;if t.ShadowBolt:IsCastable()then if m(t.ShadowBolt,nil,nil,not h:IsSpellInRange(t.ShadowBolt))then _=686;return"shadow_bolt tyrant 30"end end end;local function au()if B<20 then if t.GrimoireFelguard:IsReady()and o()then if m(t.GrimoireFelguard,nil)then _=111898;return"grimoire_felguard fight_end 2"end end;if t.CallDreadstalkers:IsReady()then if m(t.CallDreadstalkers,nil,nil,not h:IsSpellInRange(t.CallDreadstalkers))then _=104316;return"call_dreadstalkers fight_end 4"end end;if t.SummonVilefiend:IsReady()and P then if m(t.SummonVilefiend)then _=264119;return"summon_vilefiend fight_end 6"end end end;if t.NetherPortal:IsReady()and o()and B<30 then if m(t.NetherPortal,nil)then _=267217;return"nether_portal fight_end 8"end end;if t.SummonDemonicTyrant:IsCastable()and o()and B<20 then if m(t.SummonDemonicTyrant,nil)then _=265187;return"summon_demonic_tyrant fight_end 10"end end;if t.DemonicStrength:IsCastable()and P and B<10 then if m(t.DemonicStrength,nil)then _=267171;return"demonic_strength fight_end 12"end end;if t.PowerSiphon:IsReady()and P and(g:BuffStack(t.DemonicCoreBuff)<3 and B<20)then if m(t.PowerSiphon,nil)then _=264130;return"power_siphon fight_end 14"end end;if t.Implosion:IsReady()and B<2*O then if m(t.Implosion,nil,nil,not h:IsInRange(40))then _=196277;return"implosion fight_end 16"end end end;local function av()P=HeroRotationCharDB.Toggles[4]Q=HeroRotationCharDB.Toggles[5]R=HeroRotationCharDB.Toggles[12]S=HeroRotationCharDB.Toggles[15]T=HeroRotationCharDB.Toggles[150]end;local function aw()if a0>0 then a0=0 end;if _>0 then _=0 end;if n()then V=h:GetEnemiesInSplashRange(8)W=h:GetEnemiesInSplashRangeCount(8)U=g:GetEnemiesInRange(40)else V={}W=1;U={}end;if X.TargetIsValid()or g:AffectingCombat()then A=d.BossFightRemains()B=A;if B==11111 then B=d.FightRemains(V,false)end;p.UpdatePetTable()p.UpdateSoulShards()N=d.CombatTime()M=g:SoulShardsP()O=g:GCD()+0.25 end;av()if l.GUISettings.General.OpenerReset>0 and not HeroRotationCharDB.Toggles[5]then starttime=GetTime()endtime=starttime+l.GUISettings.General.OpenerReset elseif l.GUISettings.General.OpenerReset>0 and endtime~=nil and GetTime()>endtime and HeroRotationCharDB.Toggles[5]then HeroRotationCharDB.Toggles[5]=not HeroRotationCharDB.Toggles[5]l.ToggleIconFrame:UpdateButtonText(5)l.Print("Opener is now "..(HeroRotationCharDB.Toggles[5]and"|cff00ff00enabled|r."or"|cffff0000disabled|r."))end;if T and t.ShadowFury:IsUsableP()and t.ShadowFury:CooldownRemains(BypassRecovery)<=0 then if l.Cast(t.ShadowFury,nil,nil,nil)then _=30283;return"queue Shadow Fury "end elseif(not t.ShadowFury:IsUsableP()or t.ShadowFury:CooldownRemains()>0)and T then HeroRotationCharDB.Toggles[150]=not HeroRotationCharDB.Toggles[150]l.Print("Shadow Fury Queue is now "..(HeroRotationCharDB.Toggles[150]and"|cff00ff00on|r."or"|cffff0000off|r."))end;if X.TargetIsValid()and(g:AffectingCombat()or Q)then if not g:AffectingCombat()and not g:IsCasting(t.Demonbolt)then local as=al()if as then return as end end;if t.SpellLock:IsAvailable()then local as=X.Interrupt(40,t.SpellLock,Y.Commons.OffGCDasOffGCD.SpellLock,Z)if as then return as end end;if t.UnendingResolve:IsReady()and g:HealthPercentage()<Y.Demonology.UnendingResolveHP then if m(t.UnendingResolve,nil)then _=104773;return"bilescourge_bombers defensive"end end;am()if a9()or B<22 then local as=ao()if as then return as end end;if Y.Commons.Enabled.TopTrinket or Y.Commons.Enabled.BottomTrinket then local as=ap()if as then return as end end;if B<30 then local as=au()if as then return as end end;if t.HandofGuldan:IsReady()and(N<0.5 and(B%95>40 or B%95<15)and(t.ReignofTyranny:IsAvailable()or W>2))then if m(t.HandofGuldan,nil,nil,not h:IsSpellInRange(t.HandofGuldan))then _=105174;return"hand_of_guldan main 2"end end;if t.SummonDemonicTyrant:CooldownRemains()<15 and t.SummonVilefiend:CooldownRemains()<O*5 and t.CallDreadstalkers:CooldownRemains()<O*5 and(t.GrimoireFelguard:CooldownRemains()<10 or not g:HasTier(30,2))and(K<15 or B<40 or g:PowerInfusionUp())or t.SummonVilefiend:IsAvailable()and t.SummonDemonicTyrant:CooldownRemains()<15 and t.SummonVilefiend:CooldownRemains()<O*5 and t.CallDreadstalkers:CooldownRemains()<O*5 and(t.GrimoireFelguard:CooldownRemains()<10 or not g:HasTier(30,2))and(not H or K<15 or B<40 or g:PowerInfusionUp())then local as=ar()if as then return as end end;if t.SummonDemonicTyrant:CooldownRemains()<15 and(ad()or not t.SummonVilefiend:IsAvailable()and(a7()or t.GrimoireFelguard:CooldownUp()or not g:HasTier(30,2)))and(K<15 or a7()or B<40 or g:PowerInfusionUp())then local as=ar()if as then return as end end;if t.SummonDemonicTyrant:IsCastable()and o()and(ad()or a7()or t.GrimoireFelguard:CooldownRemains()>90)then if m(t.SummonDemonicTyrant,nil)then _=265187;return"summon_demonic_tyrant main 4"end end;if t.SummonVilefiend:IsReady()and P and t.SummonDemonicTyrant:CooldownRemains()>45 then if m(t.SummonVilefiend)then _=264119;return"summon_vilefiend main 6"end end;if t.Demonbolt:IsReady()and(g:BuffUp(t.DemonicCoreBuff)and((not t.SoulStrike:IsAvailable()or t.SoulStrike:CooldownRemains()>O*2)and M<4 or M<4-q(W>2))and not g:PrevGCDP(1,t.Demonbolt)and g:HasTier(31,2))then if X.CastCycle(t.Demonbolt,V,ag,not h:IsSpellInRange(t.Demonbolt))then _=264178;return"demonbolt main 8"end end;if t.PowerSiphon:IsReady()and P and(g:BuffDown(t.DemonicCoreBuff)and(h:DebuffDown(t.DoomBrandDebuff)or not t.HandofGuldan:InFlight()and h:DebuffRemains(t.DoomBrandDebuff)<O+t.Demonbolt:TravelTime()or t.HandofGuldan:InFlight()and h:DebuffRemains(t.DoomBrandDebuff)<O+t.Demonbolt:TravelTime()+3)and g:HasTier(31,2))then if m(t.PowerSiphon,nil)then _=264130;return"power_siphon main 10"end end;if t.DemonicStrength:IsCastable()and P and(g:BuffRemains(t.NetherPortalBuff)<O and(B>63 and not(B>t.SummonDemonicTyrant:CooldownRemains()+69)or t.SummonDemonicTyrant:CooldownRemains()>30 or g:BuffUp(t.RiteofRuvaraadBuff)or not t.SummonDemonicTyrant:IsAvailable()or not t.GrimoireFelguard:IsAvailable()or not g:HasTier(30,2)))then if m(t.DemonicStrength,nil)then _=267171;return"demonic_strength main 12"end end;if t.BilescourgeBombers:IsReady()then if m(t.BilescourgeBombers,nil,nil,not h:IsInRange(40))then _=267211;return"bilescourge_bombers main 14"end end;if t.Guillotine:IsCastable()and P and(g:BuffRemains(t.NetherPortalBuff)<O and(t.DemonicStrength:CooldownDown()or not t.DemonicStrength:IsAvailable()))then if m(t.Guillotine,nil,nil,not h:IsInRange(40))then _=386833;return"guillotine main 16"end end;if t.CallDreadstalkers:IsReady()and(t.SummonDemonicTyrant:CooldownRemains()>25 or K>25 or g:BuffUp(t.NetherPortalBuff))then if m(t.CallDreadstalkers,nil,nil,not h:IsSpellInRange(t.CallDreadstalkers))then _=104316;return"call_dreadstalkers main 18"end end;if t.Implosion:IsReady()and(a2(2)>0 and F and not g:PrevGCDP(1,t.Implosion))then if m(t.Implosion,nil,nil,not h:IsInRange(40))then _=196277;return"implosion main 20"end end;if t.SummonSoulkeeper:IsReady()and(t.SummonSoulkeeper:Count()==10 and W>1)then if m(t.SummonSoulkeeper)then _=264057;return"soul_strike main 22"end end;if t.DemonicStrength:IsCastable()and P and(B>63 and not(B>t.SummonDemonicTyrant:CooldownRemains()+69)or t.SummonDemonicTyrant:CooldownRemains()>30 or g:BuffUp(t.RiteofRuvaraadBuff)or not t.SummonDemonicTyrant:IsAvailable()or not t.GrimoireFelguard:IsAvailable()or not g:HasTier(30,2))then if m(t.DemonicStrength,nil)then _=267171;return"demonic_strength main 24"end end;if t.HandofGuldan:IsReady()and((M>2 and t.CallDreadstalkers:CooldownRemains()>O*4 and t.SummonDemonicTyrant:CooldownRemains()>17 or M==5 or M==4 and t.SoulStrike:IsAvailable()and t.SoulStrike:CooldownRemains()<O*2)and(W==1 and t.GrandWarlocksDesign:IsAvailable()))then if m(t.HandofGuldan,nil,nil,not h:IsSpellInRange(t.HandofGuldan))then _=105174;return"hand_of_guldan main 26"end end;if t.HandofGuldan:IsReady()and(M>2 and not(W==1 and t.GrandWarlocksDesign:IsAvailable()))then if m(t.HandofGuldan,nil,nil,not h:IsSpellInRange(t.HandofGuldan))then _=105174;return"hand_of_guldan main 28"end end;if t.Demonbolt:IsReady()and(g:BuffStack(t.DemonicCoreBuff)>1 and(M<4 and not t.SoulStrike:IsAvailable()or t.SoulStrike:CooldownRemains()>O*2 or M<2)and not G)then if X.CastCycle(t.Demonbolt,V,ai,not h:IsSpellInRange(t.Demonbolt))then _=264178;return"demonbolt main 30"end end;if t.Demonbolt:IsReady()and(g:HasTier(31,2)and g:BuffUp(t.DemonicCoreBuff)and M<4 and not G)then if X.CastTargetIf(t.Demonbolt,V,"==",ai,ak,not h:IsSpellInRange(t.Demonbolt))then _=264178;return"demonbolt main 32"end end;if t.Demonbolt:IsReady()and B<g:BuffStack(t.DemonicCoreBuff)*O then if m(t.Demonbolt,nil,nil,not h:IsSpellInRange(t.Demonbolt))then _=264178;return"demonbolt main 34"end end;if t.Demonbolt:IsReady()and(g:BuffUp(t.DemonicCoreBuff)and t.PowerSiphon:CooldownRemains()<4 and M<4 and not G)then if X.CastCycle(t.Demonbolt,V,ai,not h:IsSpellInRange(t.Demonbolt))then _=264178;return"demonbolt main 36"end end;if t.PowerSiphon:IsReady()and P and g:BuffDown(t.DemonicCoreBuff)then if m(t.PowerSiphon,nil)then _=264130;return"power_siphon main 38"end end;if t.SummonVilefiend:IsReady()and P and B<t.SummonDemonicTyrant:CooldownRemains()+5 then if m(t.SummonVilefiend)then _=264119;return"summon_vilefiend main 40"end end;if t.Doom:IsReady()then if X.CastCycle(t.Doom,U,aj,not h:IsSpellInRange(t.Doom))then _=603;return"doom main 42"end end;if t.ShadowBolt:IsCastable()then if m(t.ShadowBolt,nil,nil,not h:IsSpellInRange(t.ShadowBolt))then _=686;return"shadow_bolt main 44"end end end;if(i:IsDeadOrGhost()or not UnitExists("pet"))and t.SummonPet:IsCastable()and not g:IsMoving()then if m(t.SummonPet,nil)then _=30146;return"Revive Pet"end end end;local function ax()l.Print("Demonology Warlock rotation has been updated for patch 10.2.0.")end;function ReturnSpellDemo()if _==0 then return 0 else return _ end end;function ReturnSpellMODemo()if a0==0 then return 0 else return a0 end end;l.SetAPL(266,aw,ax)