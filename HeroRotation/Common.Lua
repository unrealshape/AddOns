local a,b=...local c=HeroLib;local d=b.Cast;local e,f=HeroCache,c.Utils;local g=c.Unit;local h=g.Player;local i=g.Target;local j=c.Spell;local k=c.Item;local pairs=pairs;local l=string.gsub;b.Common={}local m={}b.Common.Everyone=m;m.WhiteList=function()local self={}local n={324736,228318,178658,333227,334800,334967,324737,326450,334470,320703,320012,324085,333241,331510,344739,368477,368396,355057,356133,342139,353706,355782,327155,158337}function self.getPrivateProperty()return n end;return self end;m.checkUnitBelowThreshold=function(o)local self={}local function p(q,r)local s=10^(r or 0)return math.floor(q*s+0.5)/s end;local function t(u)local v=p(UnitHealth(u)/UnitHealthMax(u)*100,1)return v end;local function w()local x=false;local y=GetNumGroupMembers()if y>0 and y<6 then for z=1,y do local A='party'..z;if t(A)<=o or t("player")<=o then x=true end end end;return x end;function self.getPrivateProperty()return w()end;return self end;local function B(g,C)local D=0;for E=1,25 do local F,G,G,H=UnitDebuff(g,E)if H~=nil and H==C then D=D+1 elseif H==nil then D=D end end;return D end;local function I(g,J,K)local D=0;for E=1,25 do local F,G,G,H=UnitDebuff(g,E)if H~=nil and(H==J or H==K)then D=D+1 elseif H==nil then D=D end end;return D end;local function L(g,J,K,M)local D=0;for E=1,25 do local F,G,G,H=UnitDebuff(g,E)if H~=nil and(H==J or H==K or H==M)then D=D+1 elseif H==nil then D=D end end;return D end;function m.UnitDebuffCheck(C)local N=GetNumGroupMembers()local x=0;if N>0 and N<6 then for z=1,N do local O="party"..z;if z==5 then if B("player",C)>0 then x=5 end else if B(O,C)>0 then x=z end end end elseif N==0 then local P=B("player",C)if P>0 then x=5 end end;return x end;function m.UnitDebuffCheckWith2Debuffz(J,K)local N=GetNumGroupMembers()local x=0;if N>0 and N<6 then for z=1,N do local O="party"..z;if z==5 then if I("player",J,K)>0 then x=5 end else if I(O,J,K)>0 then x=z end end end elseif N==0 then local P=I("player",J,K)if P>0 then x=5 end end;return x end;function m.UnitDebuffCheckWith3Debuffz(J,K,M)local N=GetNumGroupMembers()local x=0;if N>0 and N<6 then for z=1,N do local O="party"..z;if z==5 then if L("player",J,K,M)>0 then x=5 end else if L(O,J,K,M)>0 then x=z end end end elseif N==0 then local P=L("player",J,K,M)if P>0 then x=5 end end;return x end;function m.TrinketGeneric(Q,R,S,T,U)TopTrinketID=GetInventoryItemID("player",13)BotTrinketID=GetInventoryItemID("player",14)if not T and not U then Q={TopTrinketID,BotTrinketID}elseif not T and U then Q={TopTrinketID}elseif not U and T then Q={BotTrinketID}end;R=h:GetUseableTrinkets(Q)if R and S then if R then if b.Cast(R,nil,nil)then return true else return false end end end end;function m.TrinketSpecific(V,W,X,Y,TopTrinketID,BotTrinketID)if V.TrinketName:IsEquippedAndReady()then if not X:ID()==V.TrinketName:ID()and X:CooldownRemains()>10 or Y:CooldownRemains()>10 or c.BossFilteredFightRemains("<",20)or not Y:HasCooldown()or not X:HasCooldown()then if b.Cast(V.TrinketName,nil,nil)then if V.TrinketName:ID()==TopTrinketID then shouldcast=24;return W:Name().." top"elseif V.TrinketName:ID()==BotTrinketID then shouldcast=30;return W:Name().." bot"end end end end end